(function(){"use strict";var e={3096:function(e,t,o){var r=o(5130),n=o(6768),s=o(4232);const a=e=>((0,n.Qi)("data-v-b787031e"),e=e(),(0,n.jt)(),e),i={id:"app"},d=a((()=>(0,n.Lk)("span",{class:"fas fa-cart-plus"},null,-1)));function c(e,t,o,r,a,c){const l=(0,n.g2)("lesson-component"),u=(0,n.g2)("checkout-component");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("header",null,[(0,n.Lk)("h1",null,(0,s.v_)(a.sitename),1),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>c.showCheckout&&c.showCheckout(...e))},[(0,n.eW)((0,s.v_)(c.cartItemCount)+" ",1),d,(0,n.eW)(" Checkout ")])]),(0,n.Lk)("main",null,[a.showProduct?((0,n.uX)(),(0,n.Wv)(l,{key:0,lessons:a.products,onAddToCart:c.addToCart},null,8,["lessons","onAddToCart"])):((0,n.uX)(),(0,n.Wv)(u,{key:1,cart:a.cart,products:a.products,onBackToLessons:c.showCheckout,onRemoveFromCart:c.handleRemoveFromCart},null,8,["cart","products","onBackToLessons","onRemoveFromCart"]))])])}o(4114);const l={class:"lesson-container"},u=["src"],p=["innerHTML"],f=["onClick","disabled"],m={key:0},h={key:1},k={key:2};function v(e,t,o,r,a,i){return(0,n.uX)(),(0,n.CE)("div",l,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.lessons,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:"lesson"},[(0,n.Lk)("figure",null,[(0,n.Lk)("img",{src:e.image,alt:"Lesson Image"},null,8,u)]),(0,n.Lk)("h2",null,(0,s.v_)(e.title),1),(0,n.Lk)("p",{innerHTML:e.description},null,8,p),(0,n.Lk)("p",null,"Price: "+(0,s.v_)(e.price),1),(0,n.Lk)("p",null,"Spaces: "+(0,s.v_)(e.spaces),1),(0,n.Lk)("p",null,"Location: "+(0,s.v_)(e.location),1),(0,n.Lk)("button",{onClick:t=>i.addToCart(e),disabled:!i.canAddToCart(e)},"Add To Cart",8,f),0===e.spaces?((0,n.uX)(),(0,n.CE)("span",m,"All Out!")):e.spaces<10?((0,n.uX)(),(0,n.CE)("span",h,"Only "+(0,s.v_)(e.spaces)+" left!",1)):((0,n.uX)(),(0,n.CE)("span",k,"Buy Now!")),(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.rating,(e=>((0,n.uX)(),(0,n.CE)("span",{key:e},"★")))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(5-e.rating,(e=>((0,n.uX)(),(0,n.CE)("span",{key:e},"☆")))),128))])])))),128))])}var L={name:"LessonComponent",props:["lessons"],methods:{addToCart(e){this.$emit("add-to-cart",e)},canAddToCart(e){return e.spaces>0},cartCount(e){let t=0;for(let o=0;o<this.cart.length;o++)this.cart[o]===e&&t++;return t}}},C=o(1241);const b=(0,C.A)(L,[["render",v],["__scopeId","data-v-69fc41eb"]]);var y=b;const g=e=>((0,n.Qi)("data-v-44c36d42"),e=e(),(0,n.jt)(),e),w={class:"checkout-container"},N=g((()=>(0,n.Lk)("h2",null,"Checkout",-1))),E={class:"cart-items"},O=g((()=>(0,n.Lk)("h3",null,"Cart Items",-1))),X={key:0},_=g((()=>(0,n.Lk)("p",null,"Your cart is empty.",-1))),T=[_],A={key:1},F=["onClick"],I={class:"form-group"},q=g((()=>(0,n.Lk)("label",{for:"firstName"},"First Name:",-1))),P={class:"form-group"},j=g((()=>(0,n.Lk)("label",{for:"lastName"},"Last Name:",-1))),x={class:"form-group"},S=g((()=>(0,n.Lk)("label",{for:"address"},"Address:",-1))),B={class:"form-group"},V=g((()=>(0,n.Lk)("label",{for:"city"},"City:",-1))),G={class:"form-group"},U=g((()=>(0,n.Lk)("label",{for:"state"},"State:",-1))),H=["value"],R={class:"form-group"},D=g((()=>(0,n.Lk)("label",{for:"zip"},"Zip/Postal Code:",-1))),K={class:"form-group"},$=g((()=>(0,n.Lk)("label",{for:"gift"},"Ship as Gift?",-1))),z=g((()=>(0,n.Lk)("option",{value:"Yes"},"Yes",-1))),J=g((()=>(0,n.Lk)("option",{value:"No"},"No",-1))),M=[z,J],W={class:"form-group"},Y=g((()=>(0,n.Lk)("label",{for:"method"},"Delivery Location:",-1))),Q=g((()=>(0,n.Lk)("option",{value:"Home"},"Home",-1))),Z=g((()=>(0,n.Lk)("option",{value:"Business"},"Business",-1))),ee=[Q,Z],te=g((()=>(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Place Order",-1)));function oe(e,t,o,a,i,d){return(0,n.uX)(),(0,n.CE)("div",w,[N,(0,n.Lk)("div",E,[O,0===o.cart.length?((0,n.uX)(),(0,n.CE)("div",X,T)):((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.cart,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id},[(0,n.eW)((0,s.v_)(d.getProductById(e.id).title)+" - "+(0,s.v_)(e.quantity)+" x $"+(0,s.v_)(d.getProductById(e.id).price)+" ",1),(0,n.Lk)("button",{onClick:t=>d.emitRemoveFromCart(e.id)},"Remove",8,F)])))),128))])]))]),(0,n.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>d.submitOrder&&d.submitOrder(...e)),["prevent"])),class:"order-form"},[(0,n.Lk)("div",I,[q,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>i.order.firstName=e),required:""},null,512),[[r.Jo,i.order.firstName]])]),(0,n.Lk)("div",P,[j,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>i.order.lastName=e),required:""},null,512),[[r.Jo,i.order.lastName]])]),(0,n.Lk)("div",x,[S,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address","onUpdate:modelValue":t[2]||(t[2]=e=>i.order.address=e),required:""},null,512),[[r.Jo,i.order.address]])]),(0,n.Lk)("div",B,[V,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"city","onUpdate:modelValue":t[3]||(t[3]=e=>i.order.city=e),required:""},null,512),[[r.Jo,i.order.city]])]),(0,n.Lk)("div",G,[U,(0,n.bo)((0,n.Lk)("select",{id:"state","onUpdate:modelValue":t[4]||(t[4]=e=>i.order.state=e),required:""},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.states,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,s.v_)(e),9,H)))),128))],512),[[r.u1,i.order.state]])]),(0,n.Lk)("div",R,[D,(0,n.bo)((0,n.Lk)("input",{type:"number",id:"zip","onUpdate:modelValue":t[5]||(t[5]=e=>i.order.zip=e),required:""},null,512),[[r.Jo,i.order.zip,void 0,{number:!0}]])]),(0,n.Lk)("div",K,[$,(0,n.bo)((0,n.Lk)("select",{id:"gift","onUpdate:modelValue":t[6]||(t[6]=e=>i.order.sendGift=e),required:""},M,512),[[r.u1,i.order.sendGift]])]),(0,n.Lk)("div",W,[Y,(0,n.bo)((0,n.Lk)("select",{id:"method","onUpdate:modelValue":t[7]||(t[7]=e=>i.order.method=e),required:""},ee,512),[[r.u1,i.order.method]])]),te],32),(0,n.Lk)("button",{onClick:t[9]||(t[9]=t=>e.$emit("back-to-lessons"))},"Back to Lessons")])}var re={name:"CheckoutComponent",props:{cart:Array,products:Array},data(){return{order:{firstName:"",lastName:"",address:"",city:"",state:"",zip:"",sendGift:"No",method:"Home"},states:{NH:"Nahda",DG:"Discovery Gardens",MR:"Mirdiff",KV:"Knowledge Village",GD:"Garhoud",DA:"Deira"}}},methods:{getProductById(e){return this.products.find((t=>t.id===e))||{}},emitRemoveFromCart(e){this.$emit("remove-from-cart",e)},submitOrder(){console.log("Order submitted:",this.order),alert("Order placed successfully!"),this.resetOrderForm()},resetOrderForm(){this.order={firstName:"",lastName:"",address:"",city:"",state:"",zip:"",sendGift:"No",method:"Home"}}}};const ne=(0,C.A)(re,[["render",oe],["__scopeId","data-v-44c36d42"]]);var se=ne,ae={name:"App",components:{LessonComponent:y,CheckoutComponent:se},data(){return{sitename:"Learn Lounge - After School Classes",showProduct:!0,products:[],cart:[]}},methods:{addToCart(e){const t=this.cart.find((t=>t.id===e.id));t?t.quantity++:(this.cart.push({...e,quantity:1}),this.updateLessonSpaces(e.id,-1))},showCheckout(){this.showProduct=!this.showProduct},removeFromCart(e){const t=this.cart.findIndex((t=>t.id===e));t>-1&&(this.updateLessonSpaces(e,this.cart[t].quantity),this.cart.splice(t,1))},handleRemoveFromCart(e){const t=this.cart.findIndex((t=>t.id===e));if(-1!==t){const e=[...this.cart];e.splice(t,1),this.cart=e}},fetchLessons(){fetch("http://localhost:3000/collection/lessons").then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{this.products=e})).catch((e=>console.error("Error fetching lessons:",e)))},updateLessonSpaces(e,t){const o=this.products.find((t=>t.id===e));if(o){const r=o.spaces+t;fetch(`http://localhost:3000/collection/lessons/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({spaces:r})}).then((e=>e.json())).then((()=>{o.spaces=r})).catch((e=>console.error("Error updating lesson spaces:",e)))}}},mounted(){this.fetchLessons()},computed:{cartItemCount(){return this.cart.reduce(((e,t)=>e+t.quantity),0)}}};const ie=(0,C.A)(ae,[["render",c],["__scopeId","data-v-b787031e"]]);var de=ie,ce=o(4458);(0,ce.k)("/cw3/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,r.Ef)(de).mount("#app")}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,s){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],s=e[l][2];for(var i=!0,d=0;d<r.length;d++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](r[d])}))?r.splice(d--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,s,a=r[0],i=r[1],d=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(d)var l=d(o)}for(t&&t(r);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(l)},r=self["webpackChunkafterschool"]=self["webpackChunkafterschool"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(3096)}));r=o.O(r)})();
//# sourceMappingURL=app.80a27a7f.js.map